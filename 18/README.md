# 包的管理

随着应用程序规模和复杂度的增加，需要在更高层次对它们进行组织。类对于小型应用程序来说是非常方便的组织单元，但是对于大型应用程序来说，如果仅使用类来作为惟一的组织单元，就会显得粒度过细。因此我们需要用包（package）来进行辅助管理。

## 包的设计原则
### 粒度：包的内聚性原则

- 重用发布等价原则
  - 重用的粒度就是发布的粒度；
  - 一个包的重用粒度可以和发布粒度一样大。我们所重用的任何东西都必须同时被发布和跟踪。
- 公共重用原则
  - 一个包中的所有类应该是共同重用的。如果重用了包中的一个类，那么就要重用包中的所有类；
  - 当我依赖于一个包时，我将依赖于那个包中的每一个类；
  - CRP 规定相互之间没有紧密联系的类不应该在同一个包中；
- 共同封闭原则
  - 包中的所有类对于同一性质的变化应该是共同封闭的。一个变化若对一个包产生影响，则将对该包中的所有类产生影响，而对于其他的包不造成任何影响。
  - 在大多数的应用中，可维护性的重要性是超过可重用性的。
  - CCP 鼓励我们把可能由于同样的原因而更改的所有类共同聚集在同一个地方。

### 稳定性：包的耦合性原则

- 无环依赖原则
  - 在包的依赖关系图中不允许存在环；
- 稳定依赖原则
  - 朝着稳定的方向进行依赖；
- 稳定抽象原则
  - 包的抽象程度应该和其稳定程度一致；